区域与可用区

<img src="https://img2020.cnblogs.com/blog/1043682/202010/1043682-20201011111033211-1237952578.png" alt="AWS-Region-AZ" style="zoom:30%;" />

**Region 区域** 

independent geographic area （独立的地理区域）

云资源相连形成的一大片地区称为AWS区域，表示一个特定的地理区域。一般来说，一个区域指的就是一个大洲或者国家的一部分（比如西欧、亚太东北地区或者美国西部）。它们描述并记录了云资源的地理多样性，并且由多个可用区（AZ）组成。

AWS区域通常由一个字符串来表示它所在的地理位置

| 区域名称                  | Code           |
| :------------------------ | :------------- |
| 美国东部 (俄亥俄)         | us-east-2      |
| 美国东部 (弗吉尼亚北部)   | us-east-1      |
| 美国西部 (加利福尼亚北部) | us-west-1      |
| 美国西部 (俄勒冈)         | us-west-2      |
| 非洲（开普敦）            | af-south-1     |
| 亚太区域 (香港)           | ap-east-1      |
| 亚太区域 (孟买)           | ap-south-1     |
| 亚太地区（大阪）          | ap-northeast-3 |
| 亚太区域 (首尔)           | ap-northeast-2 |
| 亚太地区 (新加坡)         | ap-southeast-1 |
| 亚太地区 (悉尼)           | ap-southeast-2 |

你可以通过aws-cli查看更加详细的区域信息

```
aws ec2 describe-regions --all-regions
```



**Availability Zone （AZ）可用区** 

Multiple isolated locations (多个独立的位置)

Data centers within a region(区域内的数据中心)

AWS可用区是AWS区域的子集，表示一个区域指定部分的云资源，但是它们在网络拓扑结构上是彼此隔离的。AWS可用区描述和记录了云资源在网络拓扑上的多样性。如果两个云资源属于不同的可用区，即使它们属于同一个AWS区域，你仍然可以认为它们属于两个不同的数据中心。如果两个云资源属于同一个可用区，它们可能会位于同一个数据中心、同一楼层、同一机架，甚至同一台物理服务器上。AWS可用区用一个字符串来命名，以该可用区所在的AWS区域名称开始，随后是一个字母（a～z）。表15-2列举了一些可用区及其所在的AWS区域。

注意：

AZ包含2+以上的数据中心；

但在每个数据中心下面还有更好的"单位"：[置放群组](https://docs.aws.amazon.com/zh_cn/AWSEC2/latest/UserGuide/placement-groups.html)它们在础硬件上以最大限度减少相关的故障；距离更近一步。



**AZ** 对于应用服务可以做“**高可用**”

**Region**对于应用服务可以做“**灾备/灾难恢复**”

在同一Region的不同AZ之间网络延迟非常低，一般在3ms之内。基础设施可以提供对程序透明的灾难恢复能力，即如果应用是以跨AZ部署的，那么挂掉一个AZ跟挂掉一批EC2没什么区别，应用服务在A（AZ）挂了并不影响在B（AZ）运行，这称为“高可用”。

跨AZ有一定的抗灾能力，但显然低于跨Region的抗灾能力。

如果业务想要在多个Region间完整地同步运行，通常需要非常复杂的程序设计，部署上也很麻烦，还容易出现一些数据问题。
大部分跨Region的应用，都是在一个主Region内提供服务，在副Region中同步数据；当主Region挂掉时，人工切换到副Region。这种切换过程用时远远超过跨AZ高可用的恢复用时，而且还可能导致一些没来得及同步的数据损失。这称为“灾难恢复”，跨Region难以实现完全的高可用。

每个Region区域至少有两个可用区
每个可用区都由多个数据中心组成
可用区之间地理与网络均独立设计与运营
可用区直接网络延时保持在3ms以下
可用区内延时保持在0.3ms以下
跨可用区的高可用部署
极低成本的城市圈级别的实时异地灾备方案



